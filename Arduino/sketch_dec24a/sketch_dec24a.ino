int clk =5;
int cs=6;
int din=7;
unsigned char disp1[38][8]={
{0x60,0x60,0x60,0x60,0x60,0x60,0x7C,0x7C},//LL
{0x18,0x18,0x00,0x18,0x18,0x18,0x18,0x18},//II
{0x00,0x38,0x44,0x44,0x54,0x4C,0x3C,0x02},//QQ
{0x18,0x18,0x00,0x18,0x18,0x18,0x18,0x18},//II
{0xC3,0xC3,0xC3,0xC3,0xC3,0xC3,0x7E,0x3C},//UU
{0x00,0x81,0x81,0x99,0x99,0xA5,0xC3,0x81},//WW
{0x81,0x42,0x24,0x18,0x18,0x24,0x42,0x81},//XX
{0xC3,0xC3,0xC3,0xFF,0xFF,0xC3,0xC3,0xC3},//HH
{0xE3,0xD3,0xD3,0xD3,0xCB,0xCB,0xCB,0xC7},//NN
{0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x7C},//L
{0x1C,0x22,0x22,0x22,0x22,0x26,0x22,0x1D},//Q
{0x0,0x49,0x49,0x49,0x49,0x2A,0x1C,0x0},//W
{0x0,0x41,0x22,0x14,0x8,0x14,0x22,0x41},//X
{0x44,0x44,0x44,0x7C,0x44,0x44,0x44,0x44},//H
{0x0,0x42,0x62,0x52,0x4A,0x46,0x42,0x0},//N
{0x60,0x60,0x60,0x60,0x60,0x60,0x7C,0x7C},//LL
{0x18,0x18,0x00,0x18,0x18,0x18,0x18,0x18},//II
{0x00,0x38,0x44,0x44,0x54,0x4C,0x3C,0x02},//QQ
{0x18,0x18,0x00,0x18,0x18,0x18,0x18,0x18},//II
{0xC3,0xC3,0xC3,0xC3,0xC3,0xC3,0xFE,0x3C},//UU
{0x00,0x41,0x41,0x99,0x99,0xA5,0xC3,0x41},//WW
{0x41,0x22,0x24,0x18,0x18,0x24,0x22,0x41},//XX
{0xC3,0xC3,0xC3,0xFF,0xFF,0xC3,0xC3,0xC3},//HH
{0xE3,0xD3,0xD3,0xD3,0xCB,0xCB,0xCB,0xC7},//NN
{0x0,0x3E,0x22,0x22,0x3E,0x22,0x22,0x3E},//8
{0x3E,0x22,0x22,0x3E,0x2,0x2,0x2,0x3E},//9
{0x8,0x14,0x22,0x3E,0x22,0x22,0x22,0x22},//A
{0x3C,0x22,0x22,0x3E,0x22,0x22,0x3C,0x0},//B
{0x3C,0x40,0x40,0x40,0x40,0x40,0x3C,0x0},//C
{0x7C,0x42,0x42,0x42,0x42,0x42,0x7C,0x0},//D
{0x7C,0x40,0x40,0x7C,0x40,0x40,0x40,0x7C},//E
{0x7C,0x40,0x40,0x7C,0x40,0x40,0x40,0x40},//F
{0x3C,0x40,0x40,0x40,0x40,0x44,0x44,0x3C},//G
{0x44,0x44,0x44,0x7C,0x44,0x44,0x44,0x44},//H
{0x7C,0x10,0x10,0x10,0x10,0x10,0x10,0x7C},//I
{0x3C,0x8,0x8,0x8,0x8,0x8,0x48,0x30},//J
{0x0,0x24,0x28,0x30,0x20,0x30,0x28,0x24},//K
{0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x7C},//
};
void setup(){
  pinMode(cs,OUTPUT);
  pinMode(clk,OUTPUT);
  pinMode(din,OUTPUT);
  Init_MAX7219();
}
void loop(){
  char i,j;
//Write_Max7219(0x0f, 0x00); 
//Delay_xms(500);
  for(j=0;j<15;j++)
  {
   for(i=1;i<9;i++)
    Write_Max7219(i,disp1[j][i-1]);
   delay(500);
  } 
  
}
void Write_Max7219_byte(char DATA)         
{
            char i;    
                digitalWrite(cs,0);                
            for(i=8;i>=1;i--)
          {                  
           digitalWrite(clk,0);
            if((DATA&0x80)>0){digitalWrite(din,1);}
            else{digitalWrite(din,0);}
            //提取最高位给DIN端口
            DATA=DATA<<1;//左移一位
            digitalWrite(clk,1);
           }                                 
}
void Write_Max7219(char address,char dat)
{ 
         digitalWrite(cs,0);
         Write_Max7219_byte(address);           //写入地址，即数码管编号
     Write_Max7219_byte(dat);               //写入数据，即数码管显示数字 
         digitalWrite(cs,1);                        
}
void Init_MAX7219(void)
{
Write_Max7219(0x09, 0x00);//译码方式：BCD码
Write_Max7219(0x0a, 0x01);//亮度 
Write_Max7219(0x0b, 0x07); //扫描界限；8个数码管显示
Write_Max7219(0x0c, 0x01);  //掉电模式：0，普通模式：1
Write_Max7219(0x0f, 0x00);
delay(500); //显示测试：1；测试结束，正常显示：0
}
